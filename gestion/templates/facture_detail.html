{% extends 'base.html' %}
{% block title %}Détail de la facture{% endblock %}

{% block content %}
<h2 class="mb-3">Détails de la facture #{{ facture.id }}</h2>
<p>Date : {{ facture.date_creation }}</p>

<table class="table table-bordered table-striped mt-4">
  <thead class="table-light">
    <tr>
      <th>Produit</th>
      <th>Prix unitaire</th>
      <th>Quantité</th>
      <th>Sous-total</th>
    </tr>
  </thead>
  <tbody>
    {% for ligne in lignes %}
      <tr>
        <td>{{ ligne.produit.nom }}</td>
        <td>{{ ligne.produit.prix }} €</td>
        <td>{{ ligne.quantite }}</td>
        <td>{{ ligne.sous_total|floatformat:2 }} €</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<div class="mt-3">
  <p><strong>Total à payer :</strong> {{ facture.total }} €</p>
  <p><strong>Nombre total d’articles :</strong> {{ facture.nombre_produits }}</p>
</div>

<div class="mt-4">
  <a class="btn btn-secondary" href="{% url 'facture_liste' %}">Retour à la liste des factures</a>
  <a class="btn btn-primary" href="{% url 'facture_creer' %}">Créer une nouvelle facture</a>
</div>
{% endblock %}
